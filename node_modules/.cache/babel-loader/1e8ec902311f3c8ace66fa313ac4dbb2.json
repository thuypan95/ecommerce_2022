{"ast":null,"code":"var _jsxFileName = \"/Users/vnng-it/Documents/projects/react-hook/client-project-shop/src/components/Layout/Search/FormSearch.js\",\n    _s = $RefreshSig$();\n\nimport Search from '@material-ui/icons/Search';\nimport { useEffect, useRef, useState } from 'react';\nimport PortalSearch from './PortalSearch';\nimport axios from 'axios';\nimport { baseURL, domainProduct } from '../../../api';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { uiActions } from '../../../redux/ui-slice';\nimport { checkDeviceType } from '../../../functions';\nimport config from '../../../config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst InputSearch = () => {\n  _s();\n\n  const isOpenDrawerSearch = useSelector(state => state.ui.isOpenDrawer.search);\n  const dispatch = useDispatch();\n  let history = useHistory();\n  const inputRef = useRef();\n  const [top, setTop] = useState(0);\n  const [left, setLeft] = useState(0);\n  const [width, setWidth] = useState(0);\n  const [isOpenSearch, setIsOpenSearch] = useState(false);\n  const [textSearch, setTextSearch] = useState('');\n  const [debouncedTerm, setDebouncedTerm] = useState(textSearch);\n  const [results, setResult] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const device = checkDeviceType();\n  useEffect(() => {\n    const boundingClientRect = inputRef.current.getBoundingClientRect();\n    const x = parseFloat(boundingClientRect.left);\n    const y = parseFloat(boundingClientRect.top) + parseFloat(boundingClientRect.height);\n    const w = parseFloat(boundingClientRect.width);\n    setTop(y);\n    setLeft(x);\n    setWidth(w);\n  }, []);\n  useEffect(() => {\n    const timerId = setTimeout(() => {\n      setDebouncedTerm(textSearch);\n    }, 500);\n    return () => {\n      clearTimeout(timerId);\n    };\n  }, [textSearch]);\n  useEffect(() => {\n    const search = async () => {\n      setIsLoading(true);\n      await axios.get(`${baseURL}${domainProduct}?name_contains=${debouncedTerm}`).then(response => {\n        setIsLoading(false);\n        const data = response.data;\n        setResult(data);\n      });\n    };\n\n    if (debouncedTerm) {\n      setIsOpenSearch(true);\n      search();\n    }\n  }, [debouncedTerm]);\n  useEffect(() => {\n    if (isOpenDrawerSearch) {\n      setIsOpenSearch(false);\n      inputRef.current.focus();\n    }\n  }, [isOpenDrawerSearch]);\n\n  const handleInputChange = value => {\n    setTextSearch(value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    history.push('/category?search=' + textSearch);\n    setIsOpenSearch(false);\n  };\n\n  const handleClickItem = rs => {\n    history.push('/product/' + rs.id);\n    dispatch(uiActions.toggleOpenDrawer('search'));\n    setTextSearch('');\n    setResult([]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"focus:outline-none h-11 border rounded-3xl px-4 w-126\",\n            ref: inputRef,\n            value: textSearch,\n            onChange: e => handleInputChange(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \" h-11 absolute right-0 w-16 rounded-r-full bg-green-600\",\n            children: /*#__PURE__*/_jsxDEV(Search, {\n              style: {\n                fill: \"white\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this), isOpenSearch && /*#__PURE__*/_jsxDEV(PortalSearch, {\n        top: top,\n        left: left,\n        width: width,\n        onClose: () => {\n          setIsOpenSearch(false);\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 41\n          }, this) : results.length > 0 ? results.map(rs => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cursor-pointer py-1\",\n              onClick: () => history.push('/product/' + rs.id),\n              children: rs.name\n            }, rs.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 48\n            }, this);\n          }) : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"NO RESULT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 37\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this), device === config.isMobile ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lg:hidden p-3.5\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"focus:outline-none h-11 border rounded-3xl px-4 w-full\",\n            ref: inputRef,\n            value: textSearch,\n            onChange: e => handleInputChange(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \" h-11 absolute right-0 w-16 rounded-r-full bg-green-600\",\n            children: /*#__PURE__*/_jsxDEV(Search, {\n              style: {\n                fill: \"white\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }, this), isOpenSearch && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 37\n        }, this) : results.length > 0 ? results.map(rs => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cursor-pointer py-1\",\n            onClick: handleClickItem.bind(null, rs),\n            children: rs.name\n          }, rs.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 44\n          }, this);\n        }) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"NO RESULT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 39\n    }, this) : '']\n  }, void 0, true);\n};\n\n_s(InputSearch, \"ohZM/+3tLew8ZhTrQ4MTpvhcKeA=\", false, function () {\n  return [useSelector, useDispatch, useHistory];\n});\n\n_c = InputSearch;\nexport default InputSearch;\n\nvar _c;\n\n$RefreshReg$(_c, \"InputSearch\");","map":{"version":3,"sources":["/Users/vnng-it/Documents/projects/react-hook/client-project-shop/src/components/Layout/Search/FormSearch.js"],"names":["Search","useEffect","useRef","useState","PortalSearch","axios","baseURL","domainProduct","useHistory","useDispatch","useSelector","uiActions","checkDeviceType","config","InputSearch","isOpenDrawerSearch","state","ui","isOpenDrawer","search","dispatch","history","inputRef","top","setTop","left","setLeft","width","setWidth","isOpenSearch","setIsOpenSearch","textSearch","setTextSearch","debouncedTerm","setDebouncedTerm","results","setResult","isLoading","setIsLoading","device","boundingClientRect","current","getBoundingClientRect","x","parseFloat","y","height","w","timerId","setTimeout","clearTimeout","get","then","response","data","focus","handleInputChange","value","handleSubmit","e","preventDefault","push","handleClickItem","rs","id","toggleOpenDrawer","target","fill","length","map","name","isMobile","bind"],"mappings":"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","sourcesContent":["import Search from '@material-ui/icons/Search';\nimport { useEffect, useRef, useState } from 'react';\nimport PortalSearch from './PortalSearch';\nimport axios from 'axios';\nimport { baseURL, domainProduct } from '../../../api';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { uiActions } from '../../../redux/ui-slice';\nimport { checkDeviceType } from '../../../functions';\nimport config from '../../../config';\nconst InputSearch = () => {\n    const isOpenDrawerSearch = useSelector(state => state.ui.isOpenDrawer.search);\n    const dispatch = useDispatch();\n    let history = useHistory();\n    const inputRef = useRef();\n    const [top, setTop] = useState(0);\n    const [left, setLeft] = useState(0);\n    const [width, setWidth] = useState(0);\n    const [isOpenSearch, setIsOpenSearch] = useState(false);\n    const [textSearch, setTextSearch] = useState('');\n    const [debouncedTerm, setDebouncedTerm] = useState(textSearch);\n    const [results, setResult] = useState([]);\n    const [isLoading, setIsLoading] = useState(false);\n    const device = checkDeviceType();\n    useEffect(() => {\n        const boundingClientRect = inputRef.current.getBoundingClientRect();\n        const x = parseFloat(boundingClientRect.left);\n        const y = parseFloat(boundingClientRect.top) + parseFloat(boundingClientRect.height);\n        const w = parseFloat(boundingClientRect.width);\n        setTop(y);\n        setLeft(x);\n        setWidth(w);\n    }, []);\n    useEffect(() => {\n        const timerId = setTimeout(() => {\n            setDebouncedTerm(textSearch)\n        }, 500);\n\n        return () => {\n            clearTimeout(timerId);\n        }\n    }, [textSearch]);\n    useEffect(() => {\n        const search = async () => {\n            setIsLoading(true);\n            await axios.get(`${baseURL}${domainProduct}?name_contains=${debouncedTerm}`)\n                .then(response => {\n                    setIsLoading(false);\n                    const data = response.data;\n                    setResult(data);\n                })\n        }\n        if (debouncedTerm) {\n            setIsOpenSearch(true);\n            search();\n        }\n\n    }, [debouncedTerm]);\n    useEffect(() => {\n        if (isOpenDrawerSearch) {\n            setIsOpenSearch(false);\n            inputRef.current.focus();\n        }\n\n    }, [isOpenDrawerSearch]);\n    const handleInputChange = (value) => {\n        setTextSearch(value);\n    }\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        history.push('/category?search=' + textSearch);\n        setIsOpenSearch(false);\n\n    }\n    const handleClickItem = (rs) => {\n        history.push('/product/' + rs.id);\n        dispatch(uiActions.toggleOpenDrawer('search'));\n        setTextSearch('');\n        setResult([]);\n    }\n    return <>\n        <div className=\"\">\n            <form onSubmit={handleSubmit}>\n                <div className=\"relative\">\n                    <input\n                        type=\"text\"\n                        className=\"focus:outline-none h-11 border rounded-3xl px-4 w-126\"\n                        ref={inputRef}\n                        value={textSearch}\n                        onChange={(e) => handleInputChange(e.target.value)} />\n                    <button className=\" h-11 absolute right-0 w-16 rounded-r-full bg-green-600\">\n                        <Search style={{ fill: \"white\" }} /></button>\n                </div>\n            </form>\n            {isOpenSearch &&\n                <PortalSearch top={top} left={left} width={width} onClose={() => { setIsOpenSearch(false) }}>\n                    <div>\n                        {\n                            isLoading ? <div>Loading...</div> :\n                                results.length > 0 ?\n                                    results.map(rs => {\n                                        return <div key={rs.id} className=\"cursor-pointer py-1\" onClick={() => history.push('/product/' + rs.id)}>{rs.name}</div>\n                                    }) :\n                                    <div>NO RESULT</div>\n                        }\n                    </div>\n                </PortalSearch>\n            }\n        </div>\n        {device === config.isMobile ? <div className=\"lg:hidden p-3.5\">\n            <form onSubmit={handleSubmit}>\n                <div className=\"relative\">\n                    <input\n                        type=\"text\"\n                        className=\"focus:outline-none h-11 border rounded-3xl px-4 w-full\"\n                        ref={inputRef}\n                        value={textSearch}\n                        onChange={(e) => handleInputChange(e.target.value)} />\n                    <button className=\" h-11 absolute right-0 w-16 rounded-r-full bg-green-600\">\n                        <Search style={{ fill: \"white\" }} /></button>\n                </div>\n            </form>\n            {isOpenSearch &&\n                <div>\n                    {\n                        isLoading ? <div>Loading...</div> :\n                            results.length > 0 ?\n                                results.map(rs => {\n                                    return <div key={rs.id} className=\"cursor-pointer py-1\" onClick={handleClickItem.bind(null, rs)}>{rs.name}</div>\n                                }) :\n                                <div>NO RESULT</div>\n                    }\n                </div>\n            }\n        </div> : ''}\n\n    </>\n}\nexport default InputSearch"]},"metadata":{},"sourceType":"module"}