{"ast":null,"code":"var _jsxFileName = \"/Users/vnng-it/Documents/projects/react-hook/client-project-shop/src/components/Products/ProductComments.js\",\n    _s = $RefreshSig$();\n\nimport { Reply } from \"@material-ui/icons\";\nimport { useRef, useState } from \"react\";\nimport LoadingList from \"../UI/LoadingList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProductComments = props => {\n  _s();\n\n  const [showInputReply, setShowInputReply] = useState(-1);\n  const {\n    listComment,\n    isLoadingComment,\n    isErrorComment,\n    setIsErrorComment,\n    isErrorReply,\n    setIsErrorReply,\n    showReplies,\n    setShowReplies\n  } = props;\n  const textareaRef = useRef(null);\n\n  const toggleInputReply = item => {\n    setShowInputReply(item.id);\n  };\n\n  const toggleShowReplies = id => {\n    setShowReplies(id);\n\n    if (showReplies == id) {\n      setShowReplies(-1);\n    }\n  };\n\n  if (isLoadingComment) {\n    return /*#__PURE__*/_jsxDEV(LoadingList, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 16\n    }, this);\n  }\n\n  const handleChange = event => {\n    if (event.target.value === ' ') {\n      textareaRef.current.style.height = \"56px\";\n      setIsErrorComment(true);\n    } else {\n      setIsErrorComment(false);\n      props.setContentComment(event.target.value);\n      textareaRef.current.style.height = \"56px\";\n      const scrollHeight = textareaRef.current.scrollHeight;\n      textareaRef.current.style.height = scrollHeight + \"px\";\n    }\n  };\n\n  const handleChangeReply = event => {\n    if (event.target.value === '') {\n      setIsErrorReply(true);\n    } else {\n      setIsErrorReply(false);\n      props.setContentReply(event.target.value);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"lg:container px-3 lg:pt-16 lg:px-0\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-1/2 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"font-semibold text-md\",\n        children: \"Add a comment \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"italic font-light text-xs text-gray-500 mb-2\",\n        children: \"Your email address will not be published. Required fields are marked\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"w-full rounded-lg border p-4 outline-none h-14\",\n        ref: textareaRef,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this), isErrorComment && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500\",\n        children: \"You must enter comment \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-right\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: props.handleComment,\n          className: \"uppercase bg-blue-500 text-white h-10 rounded-sm px-5 mt-4 transition duration-300 ease-linear hover:bg-blue-800\",\n          children: \"Add comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col-reverse\",\n      children: listComment.length > 0 ? listComment.map((item, index) => {\n        if (item.parent_id === 0) {\n          var _item$users_permissio, _item$users_permissio2;\n\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white p-4 rounded-lg mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-bold w-6 h-6 text-gray-600 mr-3 flex justify-center items-center bg-gray-300 uppercase\",\n                children: item === null || item === void 0 ? void 0 : (_item$users_permissio = item.users_permissions_user) === null || _item$users_permissio === void 0 ? void 0 : _item$users_permissio.username.charAt(0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold\",\n                children: item === null || item === void 0 ? void 0 : (_item$users_permissio2 = item.users_permissions_user) === null || _item$users_permissio2 === void 0 ? void 0 : _item$users_permissio2.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"ml-9 font-light text-gray-800 text-sm\",\n              children: item.comment_content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"text-gray-500 text-xs mt-3\",\n              onClick: toggleInputReply.bind(null, item),\n              children: [/*#__PURE__*/_jsxDEV(Reply, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 37\n              }, this), \" Reply to\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 33\n            }, this), item.count_reply > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-500 text-xs mt-3 ml-4 cursor-pointer\",\n              onClick: toggleShowReplies.bind(null, item.id),\n              children: [item.count_reply, \" replies \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 61\n            }, this), showInputReply === item.id && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-right w-1/2 ml-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                autoFocus: true,\n                className: \"w-full rounded-lg border p-4 outline-none mt-2 block\",\n                onChange: handleChangeReply\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 41\n              }, this), isErrorReply && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500\",\n                children: \"You must enter content \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 58\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setShowInputReply(-1);\n                },\n                className: \" mt-3 uppercase \",\n                children: \"CANCEL\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: props.handleReply.bind(null, item, null),\n                className: \"ml-3 mt-3 uppercase bg-blue-500 text-white h-10 px-4 rounded-sm transition duration-300 ease-linear hover:bg-blue-800\",\n                children: isLoadingComment ? 'Loading...' : 'REPLY'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 67\n            }, this), showReplies === item.id && listComment.map((i, index) => {\n              if (item.id === i.parent_id) {\n                var _i$users_permissions_, _i$users_permissions_2, _i$users_permissions_3;\n\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ml-6 mt-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-bold w-6 h-6 text-gray-600 mr-3 flex justify-center items-center bg-gray-300 uppercase\",\n                      children: i === null || i === void 0 ? void 0 : (_i$users_permissions_ = i.users_permissions_user) === null || _i$users_permissions_ === void 0 ? void 0 : _i$users_permissions_.username.charAt(0)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 103,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-semibold\",\n                      children: [i === null || i === void 0 ? void 0 : (_i$users_permissions_2 = i.users_permissions_user) === null || _i$users_permissions_2 === void 0 ? void 0 : _i$users_permissions_2.username, \"\\xA0\\xA0\", (i === null || i === void 0 ? void 0 : (_i$users_permissions_3 = i.users_permissions_user) === null || _i$users_permissions_3 === void 0 ? void 0 : _i$users_permissions_3.role) === 3 && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"bg-yellow-500 text-white text-xs rounded-sm p-1\",\n                        color: \"#eebc49\",\n                        children: \"ADMIN\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 108,\n                        columnNumber: 61\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 106,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 102,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"ml-9 font-light text-gray-800 text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-bold\",\n                      children: i.name_reply_to !== null ? `@${i.name_reply_to}:` : ''\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 111,\n                      columnNumber: 102\n                    }, this), \" \", i.comment_content]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"text-gray-500 text-xs block mt-3\",\n                    onClick: toggleInputReply.bind(null, i),\n                    children: [/*#__PURE__*/_jsxDEV(Reply, {\n                      fontSize: \"small\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 113,\n                      columnNumber: 53\n                    }, this), \" Reply to\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 112,\n                    columnNumber: 49\n                  }, this), showInputReply === i.id && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-right w-1/2 ml-6\",\n                    children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                      autoFocus: true,\n                      className: \"w-full rounded-lg border p-4 outline-none mt-2 block\",\n                      rows: 3,\n                      onChange: handleChangeReply\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 115,\n                      columnNumber: 53\n                    }, this), isErrorReply && /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-red-500\",\n                      children: \"You must enter content \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 118,\n                      columnNumber: 70\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => {\n                        setShowInputReply(-1);\n                      },\n                      className: \"\",\n                      children: \"CANCEL\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 120,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: props.handleReply.bind(null, item, i),\n                      className: \"ml-3 mt-3 uppercase bg-blue-500 text-white h-10 px-4 rounded-sm transition duration-300 ease-linear hover:bg-blue-800\",\n                      children: isLoadingComment ? 'Loading...' : 'REPLY'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 125,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 114,\n                    columnNumber: 77\n                  }, this)]\n                }, i.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 52\n                }, this);\n              } else return null;\n            })]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 36\n          }, this);\n        } else return null;\n      }) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No comments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 26\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 12\n  }, this);\n};\n\n_s(ProductComments, \"Py1VMQBSpZKCa4ha9jTkUxxqys4=\");\n\n_c = ProductComments;\nexport default ProductComments;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductComments\");","map":{"version":3,"sources":["/Users/vnng-it/Documents/projects/react-hook/client-project-shop/src/components/Products/ProductComments.js"],"names":["Reply","useRef","useState","LoadingList","ProductComments","props","showInputReply","setShowInputReply","listComment","isLoadingComment","isErrorComment","setIsErrorComment","isErrorReply","setIsErrorReply","showReplies","setShowReplies","textareaRef","toggleInputReply","item","id","toggleShowReplies","handleChange","event","target","value","current","style","height","setContentComment","scrollHeight","handleChangeReply","setContentReply","handleComment","length","map","index","parent_id","users_permissions_user","username","charAt","comment_content","bind","count_reply","handleReply","i","role","name_reply_to"],"mappings":"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","sourcesContent":["import { Reply } from \"@material-ui/icons\";\nimport { useRef, useState } from \"react\";\nimport LoadingList from \"../UI/LoadingList\";\n\nconst ProductComments = (props) => {\n    const [showInputReply, setShowInputReply] = useState(-1);\n\n    const { listComment, isLoadingComment, isErrorComment, setIsErrorComment, isErrorReply, setIsErrorReply, showReplies, setShowReplies } = props;\n    const textareaRef = useRef(null);\n    const toggleInputReply = (item) => {\n        setShowInputReply(item.id)\n    }\n    const toggleShowReplies = (id) => {\n        setShowReplies(id);\n        if (showReplies == id) {\n            setShowReplies(-1);\n        }\n    }\n    if (isLoadingComment) {\n        return <LoadingList />\n    }\n\n    const handleChange = (event) => {\n        if (event.target.value === ' ') {\n            textareaRef.current.style.height = \"56px\";\n            setIsErrorComment(true)\n        }\n        else {\n            setIsErrorComment(false)\n            props.setContentComment(event.target.value);\n            textareaRef.current.style.height = \"56px\";\n            const scrollHeight = textareaRef.current.scrollHeight;\n            textareaRef.current.style.height = scrollHeight + \"px\";\n        }\n    }\n    const handleChangeReply = (event) => {\n        if (event.target.value === '') {\n            setIsErrorReply(true)\n        }\n        else {\n            setIsErrorReply(false)\n            props.setContentReply(event.target.value);\n        }\n    }\n    return <div className=\"lg:container px-3 lg:pt-16 lg:px-0\">\n        <div className=\"w-1/2 mb-6\">\n            <h2 className=\"font-semibold text-md\">Add a comment </h2>\n            <p className=\"italic font-light text-xs text-gray-500 mb-2\">Your email address will not be published. Required fields are marked</p>\n            <textarea className=\"w-full rounded-lg border p-4 outline-none h-14\"\n                ref={textareaRef}\n                onChange={handleChange}></textarea>\n            {isErrorComment && <p className=\"text-red-500\">You must enter comment </p>}\n            <div className=\"text-right\">\n                <button\n                    onClick={props.handleComment}\n                    className=\"uppercase bg-blue-500 text-white h-10 rounded-sm px-5 mt-4 transition duration-300 ease-linear hover:bg-blue-800\">\n                    Add comment\n                </button>\n            </div>\n        </div>\n        <div className=\"flex flex-col-reverse\">\n            {\n                listComment.length > 0 ?\n                    listComment.map((item, index) => {\n                        if (item.parent_id === 0) {\n                            return <div key={item.id} className=\"bg-white p-4 rounded-lg mb-3\">\n                                <div className=\"flex items-center\">\n                                    <span className=\"font-bold w-6 h-6 text-gray-600 mr-3 flex justify-center items-center bg-gray-300 uppercase\">\n                                        {item?.users_permissions_user?.username.charAt(0)}\n                                    </span>\n                                    <span className=\"font-semibold\">{item?.users_permissions_user?.username}</span>\n                                </div>\n                                <p className=\"ml-9 font-light text-gray-800 text-sm\">{item.comment_content}</p>\n                                <button className=\"text-gray-500 text-xs mt-3\" onClick={toggleInputReply.bind(null, item)}>\n                                    <Reply fontSize='small' /> Reply to</button>\n                                {\n                                    item.count_reply > 0 && <span className=\"text-gray-500 text-xs mt-3 ml-4 cursor-pointer\"\n                                        onClick={toggleShowReplies.bind(null, item.id)}>\n                                        {item.count_reply} replies </span>}\n                                {\n                                    showInputReply === item.id && <div className=\"text-right w-1/2 ml-6\">\n                                        <textarea autoFocus\n                                            className=\"w-full rounded-lg border p-4 outline-none mt-2 block\"\n                                            onChange={handleChangeReply}></textarea>\n                                        {isErrorReply && <p className=\"text-red-500\">You must enter content </p>}\n                                        <button\n                                            onClick={() => { setShowInputReply(-1) }}\n                                            className=\" mt-3 uppercase \">\n                                            CANCEL\n                                        </button>\n                                        <button\n                                            onClick={props.handleReply.bind(null, item, null)}\n                                            className=\"ml-3 mt-3 uppercase bg-blue-500 text-white h-10 px-4 rounded-sm transition duration-300 ease-linear hover:bg-blue-800\">\n                                            {isLoadingComment ? 'Loading...' : 'REPLY'}\n                                        </button>\n                                    </div>\n                                }\n                                {\n                                    showReplies === item.id && listComment.map((i, index) => {\n                                        if (item.id === i.parent_id) {\n                                            return <div className=\"ml-6 mt-4\" key={i.id}>\n                                                <div className=\"flex items-center\">\n                                                    <span className=\"font-bold w-6 h-6 text-gray-600 mr-3 flex justify-center items-center bg-gray-300 uppercase\">\n                                                        {i?.users_permissions_user?.username.charAt(0)}\n                                                    </span>\n                                                    <span className=\"font-semibold\">{i?.users_permissions_user?.username}&nbsp;&nbsp;\n                                                        {i?.users_permissions_user?.role === 3 &&\n                                                            <span className=\"bg-yellow-500 text-white text-xs rounded-sm p-1\" color=\"#eebc49\">ADMIN</span>}\n                                                    </span>\n                                                </div>\n                                                <p className=\"ml-9 font-light text-gray-800 text-sm\"><span className=\"font-bold\">{i.name_reply_to !== null ? `@${i.name_reply_to}:` : ''}</span> {i.comment_content}</p>\n                                                <button className=\"text-gray-500 text-xs block mt-3\" onClick={toggleInputReply.bind(null, i)}>\n                                                    <Reply fontSize='small' /> Reply to</button>\n                                                {showInputReply === i.id && <div className=\"text-right w-1/2 ml-6\">\n                                                    <textarea autoFocus className=\"w-full rounded-lg border p-4 outline-none mt-2 block\"\n                                                        rows={3}\n                                                        onChange={handleChangeReply}></textarea>\n                                                    {isErrorReply && <p className=\"text-red-500\">You must enter content </p>}\n\n                                                    <button\n                                                        onClick={() => { setShowInputReply(-1) }}\n                                                        className=\"\">\n                                                        CANCEL\n                                                    </button>\n                                                    <button\n                                                        onClick={props.handleReply.bind(null, item, i)}\n                                                        className=\"ml-3 mt-3 uppercase bg-blue-500 text-white h-10 px-4 rounded-sm transition duration-300 ease-linear hover:bg-blue-800\">\n                                                        {isLoadingComment ? 'Loading...' : 'REPLY'}\n                                                    </button>\n                                                </div>}\n                                            </div>\n\n                                        }\n                                        else return null;\n                                    })\n                                }\n                            </div>\n                        }\n                        else return null\n                    }) : <p>No comments</p>}\n        </div>\n    </div>\n}\nexport default ProductComments;"]},"metadata":{},"sourceType":"module"}