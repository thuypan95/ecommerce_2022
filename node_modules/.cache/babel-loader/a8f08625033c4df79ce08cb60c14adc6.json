{"ast":null,"code":"var _jsxFileName = \"/Users/vnng-it/Documents/projects/react-hook/client-project-shop/src/components/Checkout/FormCheckout.js\",\n    _s = $RefreshSig$();\n\nimport { useForm, Controller } from \"react-hook-form\";\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from \"yup\";\nimport { CardElement, useStripe, useElements, Elements } from \"@stripe/react-stripe-js\";\nimport { useState } from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport axios from \"axios\";\nimport { baseURL } from \"../../api\";\nimport { ArrowLeft } from \"@material-ui/icons\";\nimport { authHeader, Toast } from \"../../functions\";\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { cartActions } from \"../../redux/cart-slice\";\nimport { socket } from \"../../socket\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst schema = yup.object().shape({\n  firstName: yup.string().required(),\n  lastName: yup.string().required(),\n  address: yup.string().required(),\n  state: yup.string().required(),\n  city: yup.string().required(),\n  phoneNumber: yup.string().required()\n});\n\nconst FormAddress = props => {\n  _s();\n\n  const note = useSelector(state => state.cart.note);\n  const history = useHistory();\n  const [stripeError, setError] = useState(\"\");\n  const stripe = useStripe();\n  const elements = useElements();\n  const userID = useSelector(state => state.auth.id);\n  const username = useSelector(state => state.auth.username);\n  const [loading, setLoading] = useState();\n  const dispatch = useDispatch();\n  const {\n    handleSubmit,\n    trigger,\n    control,\n    formState: {\n      errors\n    }\n  } = useForm({\n    resolver: yupResolver(schema)\n  });\n\n  const confirmHandler = async event => {\n    const cardElement = elements.getElement(CardElement);\n    const token = await stripe.createToken(cardElement);\n\n    if (token.token) {\n      const valueShipping = {\n        username: username,\n        address: event.address,\n        city: event.city,\n        state: event.state,\n        phone_number: event.phoneNumber,\n        first_name: event.firstName,\n        last_name: event.lastName\n      };\n      setLoading(true);\n      socket.emit('addOrder', {\n        amount: Number(props.cart.totalPrice),\n        dishes: props.cart.items,\n        info_shipping: valueShipping,\n        token: token.token.id,\n        note: note,\n        user_id: userID\n      }, response => {\n        if (response.err) {\n          setLoading(false);\n          Toast.error(response.err);\n        } else {\n          Toast.success('Order added successfully!');\n          const infoAddress = {\n            info_address: valueShipping\n          };\n          axios.put(`${baseURL}/users/${userID}`, infoAddress, authHeader()).then(() => {\n            setLoading(false);\n            Toast.success('Payment successfully!');\n            history.push('/my-orders');\n            dispatch(cartActions.clearAll());\n          }).catch(err => {\n            setLoading(false);\n          });\n        }\n      });\n    } else if (token.error) {\n      setError(token.error.message);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"md:w-1/2\",\n    onSubmit: handleSubmit(confirmHandler),\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"font-bold md:text-2xl mb-4\",\n      children: \"Shipping Address\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-1/2 mr-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"firstName\",\n          children: \"First name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Controller, {\n          name: \"firstName\",\n          control: control,\n          defaultValue: \"\",\n          render: _ref => {\n            let {\n              field: {\n                value,\n                onChange,\n                ...field\n              }\n            } = _ref;\n            return /*#__PURE__*/_jsxDEV(\"input\", {\n              className: `border rounded-md lg:rounded-none outline-none h-10 pl-4 w-full mt-2 ${errors.firstName && \"border-red-600\"}`,\n              ...field,\n              onChange: _ref2 => {\n                let {\n                  target: {\n                    value\n                  }\n                } = _ref2;\n                onChange(value);\n                trigger(\"firstName\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 29\n            }, this);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), errors.firstName && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-600\",\n          children: errors.firstName.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 42\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-1/2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"lastName\",\n          children: \"Last name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Controller, {\n          name: \"lastName\",\n          control: control,\n          defaultValue: \"\",\n          render: _ref3 => {\n            let {\n              field: {\n                value,\n                onChange,\n                ...field\n              }\n            } = _ref3;\n            return /*#__PURE__*/_jsxDEV(\"input\", {\n              className: `border rounded-md lg:rounded-none outline-none h-10 pl-4 w-full mt-2 ${errors.lastName && \"border-red-600\"}`,\n              ...field,\n              onChange: _ref4 => {\n                let {\n                  target: {\n                    value\n                  }\n                } = _ref4;\n                onChange(value);\n                trigger(\"lastName\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 29\n            }, this);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this), errors.lastName && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-600\",\n          children: errors.lastName.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 41\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-1/2 mr-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"phoneNumber\",\n          children: \"Phone number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Controller, {\n          name: \"phoneNumber\",\n          control: control,\n          defaultValue: \"\",\n          render: _ref5 => {\n            let {\n              field: {\n                value,\n                onChange,\n                ...field\n              }\n            } = _ref5;\n            return /*#__PURE__*/_jsxDEV(\"input\", {\n              className: `border rounded-md lg:rounded-none outline-none h-10 pl-4 w-full mt-2 ${errors.phoneNumber && \"border-red-600\"}`,\n              ...field,\n              onChange: _ref6 => {\n                let {\n                  target: {\n                    value\n                  }\n                } = _ref6;\n                onChange(value);\n                trigger(\"phoneNumber\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 29\n            }, this);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this), errors.phoneNumber && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-600\",\n          children: errors.phoneNumber.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 44\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-1/2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"address\",\n          children: \"Address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Controller, {\n          name: \"address\",\n          control: control,\n          defaultValue: \"\",\n          render: _ref7 => {\n            let {\n              field: {\n                value,\n                onChange,\n                ...field\n              }\n            } = _ref7;\n            return /*#__PURE__*/_jsxDEV(\"input\", {\n              className: `border rounded-md lg:rounded-none outline-none h-10 pl-4 w-full mt-2 ${errors.address && \"border-red-600\"}`,\n              ...field,\n              onChange: _ref8 => {\n                let {\n                  target: {\n                    value\n                  }\n                } = _ref8;\n                onChange(value);\n                trigger(\"address\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 29\n            }, this);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this), errors.address && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-600\",\n          children: errors.address.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 40\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-1/2 mr-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"city\",\n          children: \"City\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Controller, {\n          name: \"city\",\n          control: control,\n          defaultValue: \"\",\n          render: _ref9 => {\n            let {\n              field: {\n                value,\n                onChange,\n                ...field\n              }\n            } = _ref9;\n            return /*#__PURE__*/_jsxDEV(\"input\", {\n              className: `border rounded-md lg:rounded-none outline-none h-10 pl-4 w-full mt-2 ${errors.city && \"border-red-600\"}`,\n              ...field,\n              onChange: _ref10 => {\n                let {\n                  target: {\n                    value\n                  }\n                } = _ref10;\n                onChange(value);\n                trigger(\"city\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 29\n            }, this);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this), errors.city && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-600\",\n          children: errors.city.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-1/2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"state\",\n          children: \"State\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Controller, {\n          name: \"state\",\n          control: control,\n          defaultValue: \"\",\n          render: _ref11 => {\n            let {\n              field: {\n                value,\n                onChange,\n                ...field\n              }\n            } = _ref11;\n            return /*#__PURE__*/_jsxDEV(\"input\", {\n              className: `border rounded-md lg:rounded-none outline-none h-10 pl-4 w-full mt-2 ${errors.state && \"border-red-600\"}`,\n              ...field,\n              onChange: _ref12 => {\n                let {\n                  target: {\n                    value\n                  }\n                } = _ref12;\n                onChange(value);\n                trigger(\"state\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 29\n            }, this);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }, this), errors.state && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-600\",\n          children: errors.state.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 38\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"card-element\",\n        children: \"Credit or debit card\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(CardElement, {\n          options: {\n            style: {\n              width: \"100%\",\n              base: {\n                fontSize: \"18px\"\n              }\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 21\n        }, this), stripeError && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-600 my-3\",\n          children: stripeError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"card-errors\",\n          role: \"alert\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between mt-4 md:mt-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          props.history.push('/cart');\n        },\n        type: \"button\",\n        className: \"h-10 bg-gray-100 px-4 rounded-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"mr-2\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(ArrowLeft, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 45\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 21\n        }, this), \"  BACK\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: loading,\n        className: \"h-10 bg-black text-white px-4 rounded-sm\",\n        children: loading ? 'Loading...' : 'PAYMENT'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 9\n  }, this);\n};\n\n_s(FormAddress, \"KpC9CmgMwO8m2VsMycvf+5RoYas=\", false, function () {\n  return [useSelector, useHistory, useStripe, useElements, useSelector, useSelector, useDispatch, useForm];\n});\n\n_c = FormAddress;\n\nconst FormCheckout = props => {\n  const stripePromise = loadStripe(\"pk_test_RKigoTbUJRBhSYsoLGmKSLVy00yNI90pLd\");\n  return /*#__PURE__*/_jsxDEV(Elements, {\n    stripe: stripePromise,\n    children: [/*#__PURE__*/_jsxDEV(FormAddress, {\n      cart: props.cart,\n      tokenUser: props.tokenUser,\n      history: props.history\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: \"true\",\n      global: \"false\",\n      children: `\n                .StripeElement {\n                display: block;\n                background-color: #f8f9fa !important;\n                margin-top: 8px;\n                padding: 10px 8px;\n                font-family: \"Source Code Pro\", monospace;\n                box-shadow: rgba(50, 50, 93, 0.14902) 0px 1px 3px,\n                  rgba(0, 0, 0, 0.0196078) 0px 1px 0px;\n                border: 0;\n                outline: 0;\n                border-radius: 0.375rem;\n              }\n              .StripeElement--focus {\n                box-shadow: rgba(50, 50, 93, 0.109804) 0px 4px 6px,\n                  rgba(0, 0, 0, 0.0784314) 0px 1px 3px;\n                -webkit-transition: all 150ms ease;\n                transition: all 150ms ease;\n              }\n        `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 223,\n    columnNumber: 12\n  }, this);\n};\n\n_c2 = FormCheckout;\nexport default FormCheckout;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"FormAddress\");\n$RefreshReg$(_c2, \"FormCheckout\");","map":{"version":3,"sources":["/Users/vnng-it/Documents/projects/react-hook/client-project-shop/src/components/Checkout/FormCheckout.js"],"names":["useForm","Controller","yupResolver","yup","CardElement","useStripe","useElements","Elements","useState","loadStripe","axios","baseURL","ArrowLeft","authHeader","Toast","useHistory","useDispatch","useSelector","cartActions","socket","schema","object","shape","firstName","string","required","lastName","address","state","city","phoneNumber","FormAddress","props","note","cart","history","stripeError","setError","stripe","elements","userID","auth","id","username","loading","setLoading","dispatch","handleSubmit","trigger","control","formState","errors","resolver","confirmHandler","event","cardElement","getElement","token","createToken","valueShipping","phone_number","first_name","last_name","emit","amount","Number","totalPrice","dishes","items","info_shipping","user_id","response","err","error","success","infoAddress","info_address","put","then","push","clearAll","catch","message","field","value","onChange","target","style","width","base","fontSize","FormCheckout","stripePromise","tokenUser"],"mappings":"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","sourcesContent":["import { useForm, Controller } from \"react-hook-form\";\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from \"yup\";\nimport { CardElement, useStripe, useElements, Elements } from \"@stripe/react-stripe-js\";\nimport { useState } from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport axios from \"axios\";\nimport { baseURL } from \"../../api\";\nimport { ArrowLeft } from \"@material-ui/icons\";\nimport { authHeader, Toast } from \"../../functions\";\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { cartActions } from \"../../redux/cart-slice\";\nimport { socket } from \"../../socket\";\n\nconst schema = yup.object().shape({\n    firstName: yup.string().required(),\n    lastName: yup.string().required(),\n    address: yup.string().required(),\n    state: yup.string().required(),\n    city: yup.string().required(),\n    phoneNumber: yup.string().required(),\n});\nconst FormAddress = (props) => {\n    const note = useSelector(state => state.cart.note);\n    const history = useHistory();\n    const [stripeError, setError] = useState(\"\");\n    const stripe = useStripe();\n    const elements = useElements();\n    const userID = useSelector(state => state.auth.id);\n    const username = useSelector(state => state.auth.username)\n    const [loading, setLoading] = useState();\n    const dispatch = useDispatch();\n    const { handleSubmit, trigger, control, formState: { errors } } = useForm({\n        resolver: yupResolver(schema)\n    });\n    const confirmHandler = async (event) => {\n        const cardElement = elements.getElement(CardElement);\n        const token = await stripe.createToken(cardElement);\n        if (token.token) {\n            const valueShipping = {\n                username: username,\n                address: event.address,\n                city: event.city,\n                state: event.state,\n                phone_number: event.phoneNumber,\n                first_name: event.firstName,\n                last_name: event.lastName\n            };\n            setLoading(true);\n            socket.emit('addOrder', {\n                amount: Number(props.cart.totalPrice),\n                dishes: props.cart.items,\n                info_shipping: valueShipping,\n                token: token.token.id,\n                note: note,\n                user_id: userID\n            },\n                (response) => {\n                    if (response.err) {\n                        setLoading(false);\n                        Toast.error(response.err);\n                    }\n                    else {\n                        Toast.success('Order added successfully!');\n                        const infoAddress = {\n                            info_address: valueShipping\n                        };\n                        axios.put(`${baseURL}/users/${userID}`, infoAddress, authHeader()).then(() => {\n                            setLoading(false);\n                            Toast.success('Payment successfully!');\n                            history.push('/my-orders');\n                            dispatch(cartActions.clearAll());\n                        })\n                            .catch(err => {\n                                setLoading(false);\n                            })\n                    }\n                })\n        }\n        else if (token.error) {\n            setError(token.error.message);\n        }\n    };\n    return (\n        <form className=\"md:w-1/2\" onSubmit={handleSubmit(confirmHandler)}>\n            <h2 className=\"font-bold md:text-2xl mb-4\">Shipping Address</h2>\n            <div className=\"flex mt-4\">\n                <div className=\"w-1/2 mr-3\">\n                    <label htmlFor='firstName'>First name</label>\n                    <Controller\n                        name=\"firstName\"\n                        control={control}\n                        defaultValue=\"\"\n                        render={({ field: { value, onChange, ...field } }) => (\n                            <input\n                                className={`border rounded-md lg:rounded-none outline-none h-10 pl-4 w-full mt-2 ${errors.firstName && \"border-red-600\"}`}\n                                {...field}\n                                onChange={({ target: { value } }) => {\n                                    onChange(value);\n                                    trigger(\"firstName\")\n                                }} />\n                        )} />\n                    {errors.firstName && <p className=\"text-red-600\">{errors.firstName.message}</p>}\n                </div>\n                <div className=\"w-1/2\">\n                    <label htmlFor='lastName'>Last name</label>\n                    <Controller\n                        name=\"lastName\"\n                        control={control}\n                        defaultValue=\"\"\n                        render={({ field: { value, onChange, ...field } }) => (\n                            <input\n                                className={`border rounded-md lg:rounded-none outline-none h-10 pl-4 w-full mt-2 ${errors.lastName && \"border-red-600\"}`}\n                                {...field}\n                                onChange={({ target: { value } }) => {\n                                    onChange(value);\n                                    trigger(\"lastName\")\n                                }} />\n                        )} />\n                    {errors.lastName && <p className=\"text-red-600\">{errors.lastName.message}</p>}\n                </div>\n            </div>\n            <div className=\"mt-4 flex\">\n                <div className=\"w-1/2 mr-3\">\n                    <label htmlFor='phoneNumber'>Phone number</label>\n                    <Controller\n                        name=\"phoneNumber\"\n                        control={control}\n                        defaultValue=\"\"\n                        render={({ field: { value, onChange, ...field } }) => (\n                            <input\n                                className={`border rounded-md lg:rounded-none outline-none h-10 pl-4 w-full mt-2 ${errors.phoneNumber && \"border-red-600\"}`}\n                                {...field}\n                                onChange={({ target: { value } }) => {\n                                    onChange(value);\n                                    trigger(\"phoneNumber\")\n                                }} />\n                        )} />\n                    {errors.phoneNumber && <p className=\"text-red-600\">{errors.phoneNumber.message}</p>}\n                </div>\n                <div className=\"w-1/2\">\n                    <label htmlFor='address'>Address</label>\n                    <Controller\n                        name=\"address\"\n                        control={control}\n                        defaultValue=\"\"\n                        render={({ field: { value, onChange, ...field } }) => (\n                            <input\n                                className={`border rounded-md lg:rounded-none outline-none h-10 pl-4 w-full mt-2 ${errors.address && \"border-red-600\"}`}\n                                {...field}\n                                onChange={({ target: { value } }) => {\n                                    onChange(value);\n                                    trigger(\"address\")\n                                }} />\n                        )} />\n                    {errors.address && <p className=\"text-red-600\">{errors.address.message}</p>}\n                </div>\n            </div>\n\n            <div className=\"flex mt-4\">\n                <div className=\"w-1/2 mr-3\">\n                    <label htmlFor='city'>City</label>\n                    <Controller\n                        name=\"city\"\n                        control={control}\n                        defaultValue=\"\"\n                        render={({ field: { value, onChange, ...field } }) => (\n                            <input\n                                className={`border rounded-md lg:rounded-none outline-none h-10 pl-4 w-full mt-2 ${errors.city && \"border-red-600\"}`}\n                                {...field}\n                                onChange={({ target: { value } }) => {\n                                    onChange(value);\n                                    trigger(\"city\")\n                                }} />\n                        )} />\n                    {errors.city && <p className=\"text-red-600\">{errors.city.message}</p>}\n                </div>\n                <div className=\"w-1/2\">\n                    <label htmlFor='state'>State</label>\n                    <Controller\n                        name=\"state\"\n                        control={control}\n                        defaultValue=\"\"\n                        render={({ field: { value, onChange, ...field } }) => (\n                            <input\n                                className={`border rounded-md lg:rounded-none outline-none h-10 pl-4 w-full mt-2 ${errors.state && \"border-red-600\"}`}\n                                {...field}\n                                onChange={({ target: { value } }) => {\n                                    onChange(value);\n                                    trigger(\"state\")\n                                }} />\n                        )} />\n                    {errors.state && <p className=\"text-red-600\">{errors.state.message}</p>}\n                </div>\n            </div>\n            <div className=\"mt-4\">\n                <label htmlFor='card-element'>Credit or debit card</label>\n                <div>\n                    <CardElement\n                        options={{\n                            style: { width: \"100%\", base: { fontSize: \"18px\" } },\n                        }} />\n                    {stripeError && <p className=\"text-red-600 my-3\">{stripeError}</p>}\n                    <div id=\"card-errors\" role=\"alert\" />\n                </div>\n            </div>\n            <div className=\"flex justify-between mt-4 md:mt-8\">\n                <button onClick={() => { props.history.push('/cart') }}\n                    type='button'\n                    className=\"h-10 bg-gray-100 px-4 rounded-sm\">\n                    <span className=\"mr-2\"> <ArrowLeft /></span>  BACK\n                </button>\n                <button disabled={loading} className=\"h-10 bg-black text-white px-4 rounded-sm\">\n                    {loading ? 'Loading...' : 'PAYMENT'}\n                </button>\n            </div>\n        </form>\n    );\n}\nconst FormCheckout = (props) => {\n    const stripePromise = loadStripe(\"pk_test_RKigoTbUJRBhSYsoLGmKSLVy00yNI90pLd\");\n    return <Elements stripe={stripePromise}>\n        <FormAddress cart={props.cart} tokenUser={props.tokenUser} history={props.history} />\n        <style jsx=\"true\" global=\"false\">\n            {`\n                .StripeElement {\n                display: block;\n                background-color: #f8f9fa !important;\n                margin-top: 8px;\n                padding: 10px 8px;\n                font-family: \"Source Code Pro\", monospace;\n                box-shadow: rgba(50, 50, 93, 0.14902) 0px 1px 3px,\n                  rgba(0, 0, 0, 0.0196078) 0px 1px 0px;\n                border: 0;\n                outline: 0;\n                border-radius: 0.375rem;\n              }\n              .StripeElement--focus {\n                box-shadow: rgba(50, 50, 93, 0.109804) 0px 4px 6px,\n                  rgba(0, 0, 0, 0.0784314) 0px 1px 3px;\n                -webkit-transition: all 150ms ease;\n                transition: all 150ms ease;\n              }\n        `}\n        </style>\n    </Elements>\n}\nexport default FormCheckout;"]},"metadata":{},"sourceType":"module"}